(()=>{function a(){var m=Math.floor;if(j=h+d-new Date().getTime(),!(0<j))c();else if(j>e)l=!1,k&&(k=!1,$(document).off(g));else if(!k)k=!0,$(document).on(g,b);else if(j<=f)if($("#sessionTimeLeft").text(m(j/6e4)+"\uBD84 "+m(j%6e4/1e3)+"\uCD08"),!document.hasFocus()&&!l){clearInterval(i);const b=document.title;document.title="\uD83D\uDCA2\uD83D\uDCA2\uC138\uC158 \uACBD\uACE0\uD83D\uDCA2\uD83D\uDCA2",l=!0,alert(new Date().toLocaleTimeString()+"\n\uACBD\uACE0 \uBA54\uC138\uC9C0\uB97C \uD655\uC778\uD574 \uC8FC\uC138\uC694."),document.title=b,i=setInterval(a,1e3)}else $("#sessionAlert").is(".show")||($(document).off(g),$("#sessionAlert").modal("show"))}function b(){$.getJSON("/session/valid"),$(document).off(g)}function c(){clearInterval(i),$("#sessionAlert")?.modal("hide"),confirm("\uAC1C\uC778\uC815\uBCF4 \uBCF4\uD638\uB97C \uC704\uD574\n\uB85C\uADF8\uC778 \uD6C4 30\uBD84\uB3D9\uC548 \uC11C\uBE44\uC2A4 \uC774\uC6A9\uC774 \uC5C6\uC5B4\n\uC790\uB3D9 \uB85C\uADF8\uC544\uC6C3 \uB418\uC5C8\uC2B5\uB2C8\uB2E4.\n\n\uB2E4\uC2DC \uB85C\uADF8\uC778\uC744 \uD558\uC2DC\uB824\uBA74 \uD655\uC778\uC744 \uB20C\uB7EC\uC8FC\uC138\uC694.")&&location.assign("/auth/login")}const d=1800000,e=600000,f=300000,g="keypress.session click.session scroll.session";let h,i,j=1800000,k=!1,l=!1;$.getJSON("/session/valid",e=>{e&&(h=new Date().getTime(),$(document.body).append("<div class=\"modal fade\" id=\"sessionAlert\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\"><div class=\"modal-dialog\"><div class=\"modal-content fw-bold border-0\"><div class=\"modal-header bg-fc-purple\"><h5 class=\"modal-title text-white\">\uC774\uC6A9 \uC548\uB0B4</h5></div><div class=\"modal-body text-center\"><p>\uB85C\uADF8\uC778 \uC2DC\uAC04\uC774 <span id=\"sessionTimeLeft\" class=\"text-yellow-500\"></span> \uB0A8\uC558\uC2B5\uB2C8\uB2E4.<br>\uB85C\uADF8\uC778 \uC2DC\uAC04\uC744 \uC5F0\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?</p><p>\uB85C\uADF8\uC778 \uC2DC\uAC04\uC744 \uC5F0\uC7A5\uD558\uC2DC\uB824\uBA74 \uC544\uB798 \uC5F0\uC7A5\uD558\uAE30 \uBC84\uD2BC\uC744 \uB20C\uB7EC\uC8FC\uC138\uC694.</p></div><div class=\"modal-footer justify-content-center\"><button type=\"button\" class=\"btn btn-fico\" id=\"extendSession\" data-bs-dismiss=\"modal\">\uC5F0\uC7A5\uD558\uAE30</button><button type=\"button\" class=\"btn btn-outline-fico\" id=\"closeSessionAlert\" data-bs-dismiss=\"modal\">\uCDE8\uC18C</button></div></div></div></div>").on("click","#extendSession",()=>{h+d>new Date().getTime()?b():c()}).on("click","#closeSessionAlert",()=>{clearInterval(i),alert("\uB85C\uADF8\uC544\uC6C3\uC774 \uB418\uBA74 \uC791\uC131 \uC911\uC778 \uB0B4\uC6A9\uC740 \uC800\uC7A5\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.")}),i=setInterval(()=>{j=h+d-new Date().getTime(),0>=j?c():j<=f&&(clearInterval(i),b(),i=setInterval(a,1e3))},1e3),$(document).ajaxComplete((a,b,e)=>{const f=e.url;(f.startsWith("/")||f.startsWith("https://www.findsvoc.com")||f.startsWith("https://findsvoc.com"))&&("/session/valid"==f?h=new Date().getTime()*(b.responseJSON?1:0):h+d>new Date().getTime()?h=new Date().getTime():c())}),$.ajaxPrefilter((a,b,c)=>{const e=a.url;let f=new Date().getTime();"POST"==a.type&&h+d<=f&&(e.startsWith("/")||e.startsWith("https://www.findsvoc.com")||e.startsWith("https://findsvoc.com"))&&(c.abort(),confirm("\uC720\uD6A8 \uC2DC\uAC04\uC774 \uB9CC\uB8CC\uB418\uC5B4 \uC694\uCCAD\uC744 \uC218\uD589\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uB85C\uADF8\uC778\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")&&location.assign("/auth/login"))}))})})();