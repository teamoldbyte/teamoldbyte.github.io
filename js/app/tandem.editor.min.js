(function(a){function b(b){requestAnimationFrame(async function(){const c=await svocArr2Text(svocDom2Arr(b));wrapWithBracket(b),correctMarkLine(b),l=[],m=[],j.find("[value=\"undo\"], [value=\"redo\"]").prop("disabled",!0),r.saveCallback(c),a(".svoc-editor-badge").html("<i class=\"fas fa-check\"></i> \uC800\uC7A5\uB428"),setTimeout(()=>{k.text(""),a(b).unwrap(),j.find("[value=\"undo\"], [value=\"redo\"]").prop("disabled",!0),j.find("button").removeClass("active").tooltip("hide"),a(".js-edit-svoc,.js-del-svoc,.js-add-svoc").prop("disabled",!1),a(".svoc-editor-badge,.svoc-editor-emblem").remove(),j.detach(),k.detach()},2e3)})}function c(b){j.find("[value=\"undo\"], [value=\"redo\"]").prop("disabled",!0),j.find("button").removeClass("active").tooltip("hide"),b.unwrap(),l=[],m=[],a(".svoc-editor-badge,.svoc-editor-emblem").remove(),j.detach(),k.detach(),r.cancelCallback()}function d(b,c){let e,f;switch(b.type){case"group":f="btn-group col-auto";case"div":f=b.class?b.class:f,e=document.createElement("div");break;default:f=b.class?b.class:"btn btn-outline-dark col-auto btn-sm",e=document.createElement("button"),e.dataset.toggle="tooltip",e.dataset.placement="bottom",e.dataset.mode=b.mode,e.title=b.title,e.value=b.value,e.innerHTML=b.html;}if(e.className=f,c.append(e),b.children)for(let c=0,f=b.children.length;c<f;c++)d(b.children[c],a(e))}function f(b){var c=b.dataset.seq;l.push([c,b.innerHTML]),m=[],a(".svoc-toolbar [value=\"undo\"]").prop("disabled",!1)}function g(b,c){const d={s:"S",v:"V",o:"O",c:"C",oc:"o.c.",m:"M",a:"A"},e={a:"\uBD80\uC0AC\uC801 \uBCF4\uCDA9\uC5B4",tor:"to\uBD80\uC815\uC0AC",ger:"\uB3D9\uBA85\uC0AC",ptc:"\uBD84\uC0AC"},f=b.getRangeAt(0),g=document.createElement("span");g.className="sem "+c,null!=d[c]&&(g.dataset.rc=d[c],g.dataset.rcMin=d[c].substring(0,"oc"==c?4:1)),null!=e[c]&&(g.dataset.gc=e[c]);try{f.surroundContents(g)}catch(a){g.appendChild(f.extractContents()),f.insertNode(g)}f.detach(),b.removeAllRanges();const h=a(g).closest(".semantics-result")[0];i(h)}function h(b,c){const d={s:"S",o:"O",c:"C",oc:"o.c.",m:"M",a:"A"},f={ncls:{s:"\uC8FC\uC5B4\uC808",o:"\uBAA9\uC801\uC5B4\uC808",c:"\uBCF4\uC5B4\uC808",oc:"\uBAA9\uC801\uBCF4\uC5B4\uC808",m:"\uAD00\uACC4\uC808"},acls:"\uD615\uC6A9\uC0AC\uC808",advcls:"\uBD80\uC0AC\uC808",phr:"\uC804\uCE58\uC0AC\uAD6C",adjphr:"\uD615\uC6A9\uC0AC\uAD6C",advphr:"\uBD80\uC0AC\uAD6C",ptcphr:"\uBD80\uC0AC\uAD6C(\uBD84\uC0AC\uAD6C\uBB38)",ccls:"\uB4F1\uC704\uC808"},g=b.getRangeAt(0),h=a(g.startContainer).closest(".semantics-result")[0];switch(c){case"ncls":const j=document.createElement("div");j.className="cls-role-menu",j.style.position="absolute",j.style.top=`${scrollY+g.getClientRects()[0].top+g.getClientRects()[0].height}px`,j.style.left=`${scrollX+g.getClientRects()[0].left}px`,j.insertAdjacentHTML("afterbegin","<button class=\"cls-role-btn\" value=\"s\">s</button><button class=\"cls-role-btn\" value=\"o\">o</button><button class=\"cls-role-btn\" value=\"c\">c</button><button class=\"cls-role-btn\" value=\"oc\">oc</button>"),document.body.appendChild(j);let k=!1;a(document).on("click",function e(l){if(k){if(16==(16&j.compareDocumentPosition(l.target))){var m=document.createElement("span");m.className=`sem ${l.target.value}`,null!=d[l.target.value]&&(m.dataset.rc=d[l.target.value]);try{g.surroundContents(m)}catch(a){m.appendChild(g.extractContents()),g.insertNode(m)}var n=document.createElement("span");n.className=`sem ${c}`,n.dataset.gc=f[c][l.target.value];try{g.surroundContents(n)}catch(a){n.appendChild(g.extractContents()),g.insertNode(n)}g.detach(),b.removeAllRanges(),i(h)}a(document).off("click",e),a(j).remove()}else k=!0});break;case"acls":case"advcls":const l=document.createElement("span");l.className="sem m",l.dataset.rc=d.m;try{g.surroundContents(l)}catch(a){l.appendChild(g.extractContents()),g.insertNode(l)}trimTextContent(h),g.selectNode(l);default:const m=document.createElement("span");m.className=`sem ${c}`,f[c]&&(m.dataset.gc=f[c]);try{g.surroundContents(m)}catch(a){m.appendChild(g.extractContents()),g.insertNode(m)}g.detach(),b.removeAllRanges(),i(h);}}function i(b){a(b).find(".sem").filter((a,b)=>0==b.textContent.length).remove(),checkPOSDepth(b),wrapWithBracket(b),splitInners(b),trimTextContent(b),correctMarkLine(b),a(".edit-svoc").focus()}var j,k,l=[],m=[];const n={49:"[value=\"s\"]",50:"[value=\"v\"]",51:"[value=\"o\"]",52:"[value=\"c\"]",53:"[value=\"oc\"]",54:"[value=\"a\"]",81:"[value=\"tor\"]",87:"[value=\"ptc\"]",69:"[value=\"ger\"]",82:"[value=\"conj\"]",65:"[value=\"phr\"]",83:"[value=\"adjphr\"]",68:"[value=\"advphr\"]",70:"[value=\"ptcphr\"]",84:"[value=\"ccls\"]",89:"[value=\"ncls\"]",71:"[value=\"acls\"]",72:"[value=\"advcls\"]",90:"[value=\"mod\"]",88:"[value=\"erasing\"]",67:"[value=\"comment\"]",ctrlS:"[value=\"save\"]",ctrlZ:"[value=\"undo\"]:not([disabled])",ctrlY:"[value=\"redo\"]:not([disabled])"};let o,p=0,q=0,r={};a.fn.svoceditor=async function(e,s,t){return(r={forNew:e,saveCallback:s,cancelCallback:t},"close"==e)?("undefined"!=typeof j&&j.detach(),"undefined"!=typeof k&&k.detach(),this):("undefined"==typeof j&&(await a.get("https://static.findsvoc.com/css/app/tandem.editor.css",a=>{const b=document.createElement("style");b.innerHTML=a,document.head.append(b)}),await a.getJSON("https://static.findsvoc.com/data/tandem/edit-toolbar.json",e=>{var r=Math.max,s=Math.min;function t(){a(document).on("mouseover","[data-mode=\"comment\"] .semantics-result .sem",function(a){(null==this.dataset.gc||0==this.dataset.gc.length)&&(a.stopPropagation(),this.classList.add("comment-target"))}).on("mouseout","[data-mode=\"comment\"] .semantics-result *",function(){a(".comment-target").removeClass("comment-target")})}function u(){a(document).off("mouseover","[data-mode=\"comment\"] .semantics-result .sem").off("mouseout","[data-mode=\"comment\"] .semantics-result *")}j=a("<div id=\"js-edit-toolbar\" class=\"svoc-toolbar row g-2 btn-toolbar\" role=\"toolbar\"></div>");for(let a=0,b=e.length;a<b;a++)d(e[a],j);j.find("[data-toggle=\"tooltip\"]").click(function(){a(this).tooltip("hide")}).tooltip({trigger:"hover"});const v=parseFloat(getComputedStyle(document.body).fontSize);a(document).on("keydown",function(b){if(a(b.target).is("input")&&0<a(b.target).closest(".edit-comment").length&&27==b.keyCode)return void a(b.target.form).find("button:eq(1)").trigger("click");if(a(".edit-svoc")?.is(":focus"))if(!((b.ctrlKey||b.metaKey)&&65<=b.keyCode&&90>=b.keyCode))a(b.target).is("input")||null==n[b.keyCode]||j.find(n[b.keyCode]).trigger("click");else if(n["ctrl"+b.key.toUpperCase()])b.preventDefault(),j.find(n[`ctrl${b.key.toUpperCase()}`]).trigger("click");else return}),j.on("click","[value=\"save\"]",function(){var c=this.closest(".edit-svoc").querySelector(".semantics-result");for(a(c).closest(".edit-svoc").addClass("pe-none").find(".svoc-editor-badge").html("<i class=\"fas fa-spinner fa-spin\"></i> \uC800\uC7A5\uC911").animate({width:"100%"});null!=c.querySelector(".brkt,.line-end,canvas.curved_arrow");)c.querySelector(".brkt,.line-end,canvas.curved_arrow").remove();b(c)}).on("click","[value=\"close\"]",function(){if(confirm("\uC218\uC815\uB0B4\uC5ED\uC740 \uC800\uC7A5\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.\n\uD3B8\uC9D1\uBAA8\uB4DC\uB97C \uC885\uB8CC\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")){const b=a(this).closest(".edit-svoc"),d=b.find(".semantics-result");if(0<l.length){const b=l.shift();d.html(b[1]),a(".erasing-target").toggleClass("erasing-target"),a(".mod-start,.mod-indicator").remove(),drawConnections(d[0]),d.animate({opacity:.5},100).animate({opacity:1},100)}c(d)}}).on("click","[data-mode]:not([disabled])",function(){if("undo"==this.dataset.mode)return!0;let b,c=getSelection();if(a(".svoc-toolbar .active").add(this).toggleClass("active"),a(".erasing-target, .comment-target").removeClass("erasing-target comment-target"),a(".mod-start,.mod-indicator").remove(),a(this).is(".active")){var d=this.dataset.mode;switch(a(".edit-svoc").attr("data-mode",d),d){case"role":case"wrap":c.isCollapsed?k.text("\uC801\uC6A9 \uD14D\uC2A4\uD2B8\uB97C \uB4DC\uB798\uADF8 \uD558\uC138\uC694."):(a(".edit-svoc").trigger("mouseup",this.value).attr("data-mode",null),a(this).removeClass("active"));break;case"erasing":k.html("\uC9C0\uC6B0\uB824\uB294 \uD0DC\uADF8\uB97C \uD074\uB9AD \uD558\uC138\uC694.<br><h6>\uD558\uC704\uD0DC\uADF8 \uBAA8\uB450 \uC120\uD0DD : shift+\uD074\uB9AD</h6>"),c.removeAllRanges();break;case"mod":k.text("\uC218\uC2DD\uC5B4 \uC704\uCE58\uB97C \uD074\uB9AD \uD558\uC138\uC694."),c.removeAllRanges();break;case"comment":k.text("\uBB38\uBC95 \uCF54\uBA58\uD2B8\uB97C \uCD94\uAC00\uD560 \uC694\uC18C\uB97C \uC120\uD0DD\uD558\uC138\uC694."),c.removeAllRanges();break;default:}if(c.isCollapsed){if(document.caretPositionFromPoint)b=document.caretPositionFromPoint(p,q);else if(document.caretRangeFromPoint)b=document.caretRangeFromPoint(p,q);else return console.error("[This browser supports neither document.caretRangeFromPoint nor document.caretPositionFromPoint.]"),!1;let c=b.startContainer;for(;1!=c.nodeType;)c=c.parentNode;a(c).trigger("mouseover")}}else a(".edit-svoc").attr("data-mode",null),k.empty()}).on("click","[value=\"undo\"], [value=\"redo\"]",function(b){if(b.preventDefault(),"undo"==this.value||"redo"==this.value&&0<m.length){this.classList.add("active");var c="undo"==this.value?l.pop():m.pop(),d=a(`.edit-svoc .semantics-result[data-seq="${c[0]}"]`);("undo"==this.value?m:l).push([d.attr("data-seq"),d.html()]),d.html(c[1]),a(".erasing-target").toggleClass("erasing-target"),a(".mod-start,.mod-indicator").remove(),drawConnections(d[0]),d.animate({opacity:.5},100).animate({opacity:1},100),a(".svoc-toolbar [value=\"undo\"]").prop("disabled",0==l.length),a(".svoc-toolbar [value=\"redo\"]").prop("disabled",0==m.length),setTimeout(()=>{this.classList.remove("active")},50)}});let w=[],x=null,y=!1;a(document).on("mouseover","[data-mode=\"erasing\"] .semantics-result *",function(b,c){function d(){if(null!=e){if(w.push(e),c||b.shiftKey)for(let a of e.getElementsByTagName("span"))w.push(a);e.textContent==e.parentElement.textContent?(e=e.parentElement,w.push(e)):0<e.children.length&&e.children[0].textContent==e.textContent&&w.push(e.children[0])}}b.stopPropagation();var e=b.target;if(x=e,d(),a(e).is(".curved_arrow"))for(let b of e.classList)-1<b.indexOf("mfd")&&(a(this).siblings(`.curved_arrow.${b}`).each(function(){w.push(this)}),w.push(a(`.rcm.mfd-${b.substring(3)}`)[0]));null!=e.previousElementSibling&&a(e.previousElementSibling).is("[class*=\"-start\"]:not([class*=\"cmnt-align-start\"])")&&null!=e.nextElementSibling&&a(e.nextElementSibling).is("[class*=\"-end\"]")&&(w.push(e.previousElementSibling),w.push(e.nextElementSibling)),-1<e.className.indexOf("-start")?(e=e.nextElementSibling,d(),null!=e&&null!=e.nextElementSibling&&(e=e.nextElementSibling,w.push(e))):-1<e.className.indexOf("-end")&&(e=e.previousElementSibling,d(),null!=e&&null!=e.previousElementSibling&&(e=e.previousElementSibling,w.push(e))),w.forEach(function(a){a.classList.add("erasing-target")})}).on("mouseout","[data-mode=\"erasing\"] .semantics-result *",function(b){w.forEach(function(b){a(b).removeClass("erasing-target")}),w=[],x=null,b.stopPropagation()}).on("keydown keyup",function(b){("keydown"==b.type&&!y&&b.shiftKey||"keyup"==b.type&&y&&!b.shiftKey)&&(y=!y,a(document.body).toggleClass("shift",y),null!=x&&a(x).trigger("mouseout").trigger("mouseover",[y]))}).on("click",".erasing-target",function(b){const c=b.target.closest(".semantics-result")||b.target;c.closest("[data-mode=\"erasing\"]")&&(f(c),w.forEach(function(b){0==b.textContent.length||b.matches(".brkt")?a(b).remove():a(b).contents().unwrap()}));var d=a(c).find(".rcm");d.each(function(){for(let b of this.classList)-1<b.indexOf("mfd")&&0==a(`[data-mfd="${b.substring(4)}"]`).length&&a(this).contents().unwrap()});var e=a(c).find("[data-mfd]");e.each(function(){0==a(".rcm.mfd-"+this.dataset.mfd).length&&delete this.dataset.mfd}),b.shiftKey&&getSelection().removeAllRanges(),i(c)}).on("mouseup",".edit-svoc[data-mode=\"role\"], .edit-svoc[data-mode=\"wrap\"]",function(b,c){b.stopPropagation();const d=j.find(".active").val(),e=getSelection(),i=e?.anchorNode?.parentElement?.closest(".semantics-result");e.isCollapsed||(f(i),"role"==this.dataset.mode?g(e,c?c:d):"wrap"==this.dataset.mode&&h(e,c?c:d),a(".edit-svoc").attr("data-mode",null),j.find(".active").removeClass("active"),k.empty())}).on("click",".edit-svoc:not([data-mode=\"erasing\"]):not([data-mode=\"mod\"]):not([data-mode=\"comment\"]) .sem",function(b){a(".edit-comment").remove();var c=this,d="touchstart"==b.type?b.touches[0].clientX:b.clientX,e="touchstart"==b.type?b.touches[0].clientY:b.clientY,g=this.getClientRects(),h=a(this).is(".odd")?1:0,i=a(this).is(".rcm")?1:0,j=h?-1:1,k=i?-1:1,l=["top","bottom"][h],m=["left","right"][i],n=[{data:"rc",pseudo:"::before"},{data:"gc",pseudo:"::after"}];for(let A of n){var o=getComputedStyle(c,A.pseudo),p=parseFloat(o[l]),q=parseFloat(o[m]),t=parseFloat(o.width),u=parseFloat(o.height);if(null!=c.dataset[A.data]&&!isNaN(t)&&!isNaN(u)){var v=g[h][l]+j*p,w=v+j*u,x=g[i?g.length-1:0][m]+k*q,y=x+k*t;if(s(v,w,e)!=e&&r(v,w,e)!=e&&s(x,y,d)!=d&&r(x,y,d)!=d){function d(b){16!=(16&z.compareDocumentPosition(b.target))&&(a(document).off("mousedown",d),a(z).remove(),a(".edit-svoc").focus())}b.stopPropagation();var z=document.createElement("div");z.className="edit-comment text-end",z.style.position="absolute",z.insertAdjacentHTML("afterbegin","<form class=\"btn-group\"><input class=\"form-control\" type=\"text\""+`placeholder="↵" value="${c.dataset[A.data]}"/>`+"<div class=\"btn-group ms-1\"><button class=\"btn btn-sm btn-fico\" type=\"submit\">\uD655\uC778</button><button class=\"btn btn-sm btn-outline-fico\" type=\"button\">\uCDE8\uC18C</button></div></form>"),document.body.appendChild(z),z.style.top=`${scrollY+r(v,w)}px`,z.style.left=`${scrollX+s(x,y)}px`,"gc"==A.data&&(z.style.top=`${scrollY+s(v,w)-z.offsetHeight-10}px`),z.firstChild.firstChild.focus(),a(document).on("mousedown",d),a(z).find("form").on("submit",function(b){b.preventDefault(),f(c.closest(".semantics-result"));var e=a(this).find("input").val().trim();0==e.length?delete c.dataset[A.data]:c.dataset[A.data]=e,a(document).off("mousedown",d),a(z).remove(),checkGCDepth(c.closest(".semantics-result")),a(".edit-svoc").focus()}),a(z).find("button:eq(1)").on("click",function(){a(document).off("mousedown",d),a(z).remove(),a(".edit-svoc").focus()});break}}}}).on("mouseover","[data-mode=\"mod\"] .semantics-result *",function(b){a(".mod-indicator").remove();let c=a(this).is(".cls,.acls,.ncls,.advcls,.phr,.tor,.ger,.adjphr,.ptc")?this:0==a(this).closest(".cls,.acls,.ncls,.advcls,.phr,.tor,.ger,.adjphr,.ptc").length?null==this.dataset.lv?null:this:a(this).closest(".cls,.acls,.ncls,.advcls,.phr,.tor,.ger,.adjphr,.ptc")[0];if(null==c||2>c.textContent.trim().length||null!=c.dataset.mfd)return o=null,!1;b.stopPropagation(),o=c;const d=document.createElement("div");d.className="mod-indicator",d.style.position="absolute",d.style.top=`${scrollY+c.getClientRects()[0].top-3*v}px`,d.style.left=`${scrollX+c.getClientRects()[0].left-.8*v}px`,d.textContent="\u2191",document.body.appendChild(d)}).on("mousemove",".edit-svoc .semantics-result",function(b){p="touchstart"==b.type?b.touches[0].clientX:b.clientX,q="touchstart"==b.type?b.touches[0].clientY:b.clientY;let c,d,e;if(0<a(b.target).closest("[data-mode=\"mod-end\"] .semantics-result").length){a(".mod-indicator").remove();const f=document.createElement("div");if(f.className="mod-indicator",f.style.position="absolute",document.caretPositionFromPoint)d=document.caretPositionFromPoint(p,q);else if(document.caretRangeFromPoint)d=document.caretRangeFromPoint(p,q);else return console.error("[This browser supports neither document.caretRangeFromPoint nor document.caretPositionFromPoint.]"),!1;if("function"==typeof Selection.prototype.modify){if(c=getSelection(),c.removeAllRanges(),c.addRange(d),c.modify("move","backward","word"),c.modify("extend","forward","word"),0==c.rangeCount||null==c.toString().trim().match(/\w/))return c.removeAllRanges(),!1;if(e=c.getRangeAt(0).getClientRects()[0],c.removeAllRanges(),e.y>q||q>e.y+e.height)return!1}else if("function"==typeof Range.prototype.expand){if(d.expand("word"),null==d.toString().trim().match(/\w/))return!1;if(e=d.getClientRects()[0],d.detach(),e.y>q||q>e.y+e.height)return!1}else console.error("[This browser supports neither Selection.modify nor Range.expand.]");b.stopPropagation(),f.style.top=`${scrollY+e.top-3*v}px`,f.style.left=`${scrollX+e.right-v}px`,f.textContent="\u2193",document.body.appendChild(f)}}).on("click","[data-mode=\"mod\"] .semantics-result *",function(b){return null!=o&&void(b.stopPropagation(),a(".mod-indicator").toggleClass("mod-indicator mod-start"),this.closest(".edit-svoc").dataset.mode="mod-end",a(".semantic-edit-guide-msg").text("\uD53C\uC218\uC2DD\uC5B4 \uC704\uCE58\uB97C \uD074\uB9AD \uD558\uC138\uC694."))}).on("click","[data-mode=\"mod-end\"] .semantics-result",function(b){if(0==a(".mod-indicator").length)return!1;b.stopPropagation(),a(".mod-start").remove(),f(this);var c=this.dataset.seq,d=0;a(this).find(".rcm").each(function(){for(let a of this.classList)-1<a.indexOf("mfd")&&(d=r(d,parseFloat(a.split("-")[2])))}),o.dataset.mfd=`${c}-${d+1}`;var e=document.createElement("span");e.className=`sem rcm mfd-${c}-${d+1}`,e.dataset.gc="\uC218\uC2DD";var g,h,i="touchstart"==b.type?b.touches[0].clientX:b.clientX,l="touchstart"==b.type?b.touches[0].clientY:b.clientY;if(document.caretPositionFromPoint)h=document.caretPositionFromPoint(i,l);else if(document.caretRangeFromPoint)h=document.caretRangeFromPoint(i,l);else return console.error("[This browser supports neither document.caretRangeFromPoint nor document.caretPositionFromPoint.]"),!1;for(g=getSelection(),g.removeAllRanges(),g.addRange(h),g.modify("move","backward","word"),g.modify("extend","forward","word"),h=g.getRangeAt(0);h.toString().endsWith(" ");)h.setEnd(h.endContainer,h.endOffset-1);0==h.endOffset&&h.setEnd(h.startContainer,h.startContainer.data.length);try{h.surroundContents(e)}catch(a){e.appendChild(h.extractContents()),h.insertNode(e)}g.removeAllRanges(),o=null,a(".mod-indicator").remove(),a(".edit-svoc").attr("data-mode",null),j.find("[data-mode=\"mod\"].active").removeClass("active"),k.empty(),checkGCDepth(this)}).on("click",".comment-target",function(b){function c(b){16!=(16&B.compareDocumentPosition(b.target))&&(a(document).off("mousedown",c),a(B).remove(),a(".edit-svoc").focus(),t())}const d=b.target.closest(".semantics-result")||b.target,e=this;u(),a(".edit-comment").remove();const g=e.getClientRects(),h=e.matches(".odd")?1:0,i=e.matches(".rcm")?1:0,l=h?-1:1,m=i?-1:1,n=["top","bottom"][h],o=["left","right"][i],p=getComputedStyle(e,"::after"),q=parseFloat(p[n]),v=parseFloat(p[o]),w=parseFloat(p.width),x=parseFloat(p.height),y=g[h][n]+l*q,z=y+l*x,A=g[i?g.length-1:0][o]+m*v,B=document.createElement("div");B.className="edit-comment text-end",B.style.position="absolute",B.style.top=`${scrollY+r(y,z)}px`,B.style.left=`${scrollX+s(A,A+m*w)}px`,B.insertAdjacentHTML("afterbegin","<form class=\"btn-group\"><input class=\"form-control\" type=\"text\" placeholder=\"\u21B5\"/><div class=\"btn-group ms-1\"><button class=\"btn btn-sm btn-fico\" type=\"submit\">\uD655\uC778</button><button class=\"btn btn-sm btn-outline-fico\" type=\"button\">\uCDE8\uC18C</button></div></form>"),document.body.appendChild(B),B.style.top=scrollY+s(y,z)-B.offsetHeight-10+"px",B.firstChild.firstChild.focus(),a(document).on("mousedown",c),a(B).find("form").on("submit",function(b){b.preventDefault(),e.classList.remove("comment-target"),d.closest("[data-mode=\"comment\"]")&&f(d),t();const g=a(this).find("input").val().trim();0==g.length?delete e.dataset.gc:e.dataset.gc=g,a(document).off("mousedown",c),a(B).remove(),checkGCDepth(e.closest(".semantics-result")),a(".edit-svoc").focus(),d.closest(".edit-svoc").removeAttribute("data-mode"),j.find("[data-mode=\"comment\"].active").removeClass("active"),k.empty()}),a(B).find("button:eq(1)").on("click",function(){a(document).off("mousedown",c),a(B).remove(),t(),a(".edit-svoc").focus()})}),t()})),"undefined"==typeof k&&(k=a("<div class=\"semantic-edit-guide-msg mx-auto\"></div>")),this.wrap(a("<div class=\"edit-svoc\" tabindex=\"0\"></div>")).before(a(`<span class="svoc-editor-badge badge fs-6 rounded-pill">${e?"New":"Edit"}</span>`)).before(a("<span class=\"svoc-editor-emblem position-absolute end-0 me-2 p-1 pb-0 bg-white rounded-pill pe-none\">\u300E <b class=\"app-name-text\">fico </b><b class=\"text-fc-red\" style=\"font-size:.9rem;\">SVOC Editor</b>\u2122\u300F</span>")).before(j).after(k),a(".edit-svoc").focus(),this)}})(jQuery);